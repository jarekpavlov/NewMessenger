<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Messages</title>
<script th:replace="fragment/header :: header"> </script>

</head>
<body>
	<script th:replace="fragment/header :: headerElement"> </script>
	<form action="" method="post" style="margin-bottom: 1em;" enctype="multipart/form-data">
	<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
	<div>
		<input type="file"  name="file">
	</div>	
		<label for="text" >Text:</label>
		<div >
			<input type="text" id="text" name="text" />
		</div>
		<label for="tag" >Tag:</label>
		<div >
			<input type="text" id="tag" name="tag" />
		</div>
		<div >
			<button type="submit" >Save</button>
		</div>
	</form>
	<form action="/filter" method="get">

		<label for="filterId" >Filter:</label>
		<div >
			<input type="text" id="filterId" name="filter" th:value="${filter}" />
		</div>
		<div >
			<button type="submit" >Filter</button>
		</div>
	</form>
	
	<div th:each="message:${messages}" >
		 <b th:text="${message.id}">Some</b> <span th:text="${message.text}">Some</span>
		 <i th:text="${message.tag}">Some</i>
		 <div th:if="${message.fileName !=null}">
			<img th:src="@{'/imag/'+${message.fileName}}">
		</div>
	</div>
    
</body>
</html>